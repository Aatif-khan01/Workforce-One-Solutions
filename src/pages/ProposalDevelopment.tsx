import { useState } from "react";
import { Link } from "react-router-dom";
import { FileText, Target, Pen, Palette, CheckSquare, Calendar, ArrowRight, Lightbulb, Users as UsersIcon, Trophy } from "lucide-react";
import Navigation from "@/components/Navigation";
import Footer from "@/components/Footer";
import ScheduleMeetingSection from "@/components/ScheduleMeetingSection";
import GlassCard from "@/components/GlassCard";
import FlipCard from "@/components/FlipCard";
import ImageGridInfo from "@/components/ImageGridInfo";
import { Button } from "@/components/ui/button";
import heroImage from "@/assets/hero-proposal.jpg";
import businessMeetingImage from "@/assets/business-meeting.jpg";
import galleryPresentation from "@/assets/gallery-presentation.jpg";
import galleryTeam from "@/assets/gallery-team-1.jpg";
import galleryBuilding from "@/assets/gallery-building-1.jpg";

const ProposalDevelopment = () => {
  const services = [
    {
      icon: Target,
      title: "Capture Planning & Strategy",
      description: "Opportunity analysis, competitor intelligence, win themes, and proposal roadmap.",
      backContent: "We analyze market opportunities, assess competition, develop strategic win themes, and create comprehensive proposal roadmaps to maximize your success rate.",
      gradient: "from-accent to-accent-glow",
    },
    {
      icon: Pen,
      title: "Proposal Writing & Content",
      description: "Technical volumes, management plans, past performance and capability statements.",
      backContent: "Our expert writers craft compelling technical volumes, comprehensive management plans, and persuasive past performance narratives that showcase your capabilities.",
      gradient: "from-secondary to-coral",
    },
    {
      icon: Palette,
      title: "Graphics & Design",
      description: "Professional layouts, infographics, charts, and brand-aligned visuals.",
      backContent: "Transform complex data into stunning visuals with our professional design team. We create infographics, charts, and layouts that enhance readability and impact.",
      gradient: "from-coral to-accent",
    },
    {
      icon: CheckSquare,
      title: "Compliance Review & QA",
      description: "Section-by-section compliance mapping, Red/Pink/Gold team reviews.",
      backContent: "Ensure 100% compliance through rigorous section-by-section mapping and multi-level team reviews, eliminating risk and maximizing evaluation scores.",
      gradient: "from-accent-glow to-secondary",
    },
    {
      icon: Calendar,
      title: "Project Management",
      description: "Timeline management, resource allocation, collaboration and submission support.",
      backContent: "We orchestrate every aspect of proposal development with meticulous timeline management, strategic resource allocation, and seamless submission coordination.",
      gradient: "from-secondary to-accent",
    },
  ];

  const phases = [
    { 
      number: "01", 
      title: "Discovery & Planning", 
      description: "Understanding goals, capture data, and establishing win themes.",
      backContent: "We begin by thoroughly understanding your objectives, analyzing capture intelligence, competitive landscape, and collaboratively establishing powerful win themes that differentiate your proposal.",
      gradient: "from-accent to-secondary",
    },
    { 
      number: "02", 
      title: "Development & Drafting", 
      description: "Combining technical, management, and pricing inputs.",
      backContent: "Our team synthesizes technical expertise, management strategies, and pricing models into cohesive, compelling content that addresses all evaluation criteria and stakeholder requirements.",
      gradient: "from-secondary to-coral",
    },
    { 
      number: "03", 
      title: "Review & Refinement", 
      description: "Iterative reviews to enhance clarity and compliance.",
      backContent: "Through multiple review cycles including Red/Pink/Gold team assessments, we refine every element to enhance clarity, strengthen messaging, and ensure complete compliance.",
      gradient: "from-coral to-accent-glow",
    },
    { 
      number: "04", 
      title: "Finalization & Submit", 
      description: "Quality checks, formatting, packaging and submission.",
      backContent: "Final quality assurance, professional formatting, meticulous packaging, and timely submission ensure your proposal is delivered flawlessly and makes the strongest possible impression.",
      gradient: "from-accent-glow to-accent",
    },
  ];

  return (
    <div className="min-h-screen">
      <Navigation />
      
      {/* Hero Section */}
      <section className="relative min-h-[70vh] flex items-center justify-center overflow-hidden pt-20">
        <div className="absolute inset-0 z-0">
          <img src={heroImage} alt="Proposal Development" className="w-full h-full object-cover" />
        </div>
        <div className="container mx-auto px-6 relative z-10">
          <div className="max-w-4xl mx-auto text-center space-y-6">
            <h1 className="text-6xl md:text-7xl font-bold text-white drop-shadow-lg">
              Proposal Development
            </h1>
            <p className="text-2xl md:text-3xl font-semibold text-white">
              Craft. Compete. Win.
            </p>
            <p className="text-xl text-white/90 max-w-3xl mx-auto">
              Winning proposals don't happen by chance, they're the result of research, strategy, storytelling, and flawless execution.
            </p>
          </div>
        </div>
      </section>

      {/* Introduction - Changed text to dark */}
      <section className="py-16 scroll-smooth">
        <div className="container mx-auto px-6">
          <GlassCard className="p-12 max-w-5xl mx-auto">
            <p className="text-lg text-foreground/90 leading-relaxed mb-6">
              At Workforce One Solutions, we help you transform business opportunities into winning proposals that set you apart from competitors. Our Proposal Development division combines deep domain expertise, compliance precision, and creative storytelling to help clients win government, defence, and commercial contracts.
            </p>
            <p className="text-lg text-foreground/90 leading-relaxed">
              We partner with you through every stage, from capture strategy and content creation to reviews and final production, ensuring your proposal reflects excellence, credibility, and value.
            </p>
          </GlassCard>
        </div>
      </section>

      {/* Business Meeting Image Section */}
      <section className="py-16 relative overflow-hidden">
        <div className="container mx-auto px-6">
          <div className="relative rounded-3xl overflow-hidden max-w-6xl mx-auto">
            <img 
              src={businessMeetingImage}
              alt="Business Meeting" 
              className="w-full h-[500px] object-cover"
            />
          </div>
        </div>
      </section>

      {/* Core Services */}
      <section className="py-24">
        <div className="container mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-5xl font-bold mb-6">
              <span className="bg-gradient-to-r from-accent to-secondary bg-clip-text text-transparent">
                Our Core Services
              </span>
            </h2>
          </div>
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto">
            {services.map((service, index) => (
              <FlipCard
                key={index}
                icon={service.icon}
                title={service.title}
                description={service.description}
                backContent={service.backContent}
                gradient={service.gradient}
              />
            ))}
          </div>
        </div>
      </section>

      {/* 4-Phase Process */}
      <section className="py-24 bg-gradient-to-b from-background/50 to-background">
        <div className="container mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-5xl font-bold mb-6">
              <span className="bg-gradient-to-r from-secondary to-coral bg-clip-text text-transparent">
                Our 4-Phase Process
              </span>
            </h2>
          </div>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">
            {phases.map((phase, index) => (
              <PhaseFlipCard
                key={index}
                number={phase.number}
                title={phase.title}
                description={phase.description}
                backContent={phase.backContent}
                gradient={phase.gradient}
              />
            ))}
          </div>
        </div>
      </section>

      {/* Why Choose Us - Changed text to dark */}
      <section className="py-24">
        <div className="container mx-auto px-6">
          <GlassCard className="p-12 max-w-4xl mx-auto">
            <h2 className="text-4xl font-bold mb-8 text-center">
              <span className="bg-gradient-to-r from-accent to-coral bg-clip-text text-transparent">
                Why Choose Our Proposal Services
              </span>
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-accent mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Deep expertise in government and commercial contracting</p>
                </div>
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-accent mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Proven track record of winning proposals</p>
                </div>
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-accent mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Comprehensive compliance and quality assurance</p>
                </div>
              </div>
              <div className="space-y-4">
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-secondary mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Strategic approach with data-driven insights</p>
                </div>
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-secondary mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Professional design and visual presentation</p>
                </div>
                <div className="flex items-start space-x-3">
                  <div className="w-2 h-2 rounded-full bg-secondary mt-2 flex-shrink-0" />
                  <p className="text-foreground/90">Full project management and submission support</p>
                </div>
              </div>
            </div>
          </GlassCard>
        </div>
      </section>

      {/* Image Grid Info Section */}
      <ImageGridInfo
        images={[
          { src: galleryPresentation, alt: "Proposal presentation", label: "Winning Strategies" },
          { src: galleryTeam, alt: "Proposal team collaboration" },
          { src: galleryBuilding, alt: "Corporate excellence" },
        ]}
        title="Our Proposal Approach"
        subtitle="Strategy-Driven Excellence"
        sections={[
          {
            title: "Strategic Insight",
            icon: <Lightbulb size={24} className="text-background" />,
            content: "We don't just write proposals, we develop winning strategies. Our team analyzes the competitive landscape, identifies your unique value proposition, and crafts compelling narratives that resonate with evaluators.",
          },
          {
            title: "Collaborative Process",
            icon: <UsersIcon size={24} className="text-background" />,
            content: "We work as an extension of your team, collaborating closely with subject matter experts, executives, and stakeholders to ensure every proposal reflects your organization's strengths and capabilities.",
          },
          {
            title: "Proven Success",
            icon: <Trophy size={24} className="text-background" />,
            content: "Our proposals have secured hundreds of millions in contract value for our clients. We bring battle-tested methodologies, compliance expertise, and creative excellence to every engagement.",
          },
        ]}
        reverse={true}
      />

      {/* CTA - Changed text to dark */}
      <section className="py-24">
        <div className="container mx-auto px-6">
          <GlassCard className="p-16 text-center">
            <h2 className="text-4xl md:text-5xl font-bold mb-6">Ready to Win Your Next Contract?</h2>
            <p className="text-xl text-muted-foreground mb-8 max-w-2xl mx-auto">
              Let's craft a proposal that stands out and delivers results.
            </p>
            <Link to="/contact">
              <Button size="lg" className="bg-gradient-to-r from-coral to-secondary hover:shadow-glow text-lg px-12 py-6 group">
                Start Your Proposal
                <ArrowRight className="ml-2 group-hover:translate-x-1 transition-transform" />
              </Button>
            </Link>
          </GlassCard>
        </div>
      </section>

      <ScheduleMeetingSection />
      <Footer />
    </div>
  );
};

// ---- Helper (Flip) Component for the phase cards ----

const PhaseFlipCard = ({ 
  number, 
  title, 
  description, 
  backContent,
  gradient = "from-accent to-secondary"
}: { 
  number: string;
  title: string;
  description: string;
  backContent?: string;
  gradient?: string;
}) => {
  const [isFlipped, setIsFlipped] = useState(false);

  return (
    <div 
      className="relative h-[280px] perspective-1000"
      onMouseEnter={() => setIsFlipped(true)}
      onMouseLeave={() => setIsFlipped(false)}
    >
      <div 
        className={`relative w-full h-full transition-transform duration-700 transform-style-3d ${
          isFlipped ? 'rotate-y-180' : ''
        }`}
      >
        {/* Front Side */}
        <div className="absolute inset-0 backface-hidden">
          <div className="h-full w-full p-8 rounded-2xl border border-glass-border bg-glass/50 backdrop-blur-sm shadow-lg text-center">
            <div className="text-6xl font-bold text-accent/20 mb-4">{number}</div>
            <h3 className="text-xl font-bold mb-3">{title}</h3>
            <p className="text-sm text-muted-foreground">{description}</p>
          </div>
        </div>

        {/* Back Side */}
        <div className="absolute inset-0 backface-hidden rotate-y-180">
          <div className={`h-full w-full p-8 rounded-2xl bg-gradient-to-br ${gradient} shadow-lg flex flex-col justify-center items-center text-center`}>
            <div className="text-5xl font-bold text-background/30 mb-3">{number}</div>
            <h3 className="text-xl font-bold mb-4 text-background">{title}</h3>
            <p className="text-background/90 text-sm leading-relaxed">
              {backContent || description}
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProposalDevelopment;
